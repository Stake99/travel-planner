# ============================================================================
# TRAVEL PLANNING GRAPHQL API - ENVIRONMENT CONFIGURATION
# ============================================================================
# This file contains all configuration options for the Travel Planning API.
# Copy this file to .env and update the values according to your environment.
#
# REQUIRED variables must be set for the application to run.
# OPTIONAL variables have sensible defaults and can be omitted.
# ============================================================================

# ----------------------------------------------------------------------------
# APPLICATION SETTINGS (REQUIRED)
# ----------------------------------------------------------------------------

# Timezone for the application (REQUIRED)
# Used for logging timestamps and date operations
# Example: UTC, America/New_York, Europe/London
TZ=UTC

# Port number the server will listen on (REQUIRED)
# Development: 3333 (default)
# Production: 3333 or use reverse proxy (Nginx) on port 80/443
PORT=3333

# Host address the server will bind to (REQUIRED)
# Development: localhost (only accessible locally)
# Production: 0.0.0.0 (accessible from all network interfaces)
HOST=localhost

# Application environment (REQUIRED)
# Values: development, production, testing
# Affects logging, error handling, and GraphQL playground availability
NODE_ENV=development

# Application encryption key (REQUIRED)
# Used for encrypting cookies, generating signed URLs, and encryption module
# SECURITY: Generate a secure random key using: node ace generate:key
# IMPORTANT: Keep this secret and never commit it to version control
# IMPORTANT: Changing this key will invalidate all encrypted data
APP_KEY=

# Application name (OPTIONAL)
# Used in logs and error messages
# Default: AdonisJS
APP_NAME=TravelPlanningAPI

# ----------------------------------------------------------------------------
# LOGGING CONFIGURATION (OPTIONAL)
# ----------------------------------------------------------------------------

# Log level for application logging (OPTIONAL)
# Values: trace, debug, info, warn, error, fatal
# Development: debug or info (verbose logging)
# Production: warn or error (minimal logging)
# Default: info
LOG_LEVEL=info

# ----------------------------------------------------------------------------
# DATABASE CONFIGURATION (REQUIRED)
# ----------------------------------------------------------------------------
# MySQL database connection settings
# Required for persistent caching and future features

# Database host address (REQUIRED)
# Development: 127.0.0.1 or localhost
# Production: RDS endpoint or EC2 private IP
DB_HOST=127.0.0.1

# Database port (REQUIRED)
# Default MySQL port: 3306
DB_PORT=3306

# Database username (REQUIRED)
# Development: root
# Production: Create a dedicated user with limited privileges
DB_USER=root

# Database password (REQUIRED)
# SECURITY: Use a strong password in production
# SECURITY: Store securely using secrets management (AWS Secrets Manager, etc.)
DB_PASSWORD=

# Database name (REQUIRED)
# The database must exist before starting the application
DB_DATABASE=travel_planning_api

# ----------------------------------------------------------------------------
# GRAPHQL CONFIGURATION (OPTIONAL)
# ----------------------------------------------------------------------------

# Enable GraphQL Playground (OPTIONAL)
# Interactive GraphQL IDE for testing queries
# Development: true (enable for easy testing)
# Production: false (disable for security)
# Default: true
GRAPHQL_PLAYGROUND_ENABLED=true

# Enable GraphQL introspection (OPTIONAL)
# Allows clients to query the schema structure
# Development: true (useful for development tools)
# Production: false (disable to prevent schema exposure)
# Default: true
GRAPHQL_INTROSPECTION_ENABLED=true

# ----------------------------------------------------------------------------
# CACHE CONFIGURATION (OPTIONAL)
# ----------------------------------------------------------------------------
# Time-to-live (TTL) values in seconds for different cache types

# City search results cache TTL (OPTIONAL)
# How long to cache city search results
# Recommended: 3600 (1 hour) - cities don't change frequently
# Default: 3600
CACHE_TTL_CITY_SEARCH=3600

# Weather forecast cache TTL (OPTIONAL)
# How long to cache weather forecast data
# Recommended: 1800 (30 minutes) - weather updates regularly
# Production: Consider 900 (15 minutes) for more frequent updates
# Default: 1800
CACHE_TTL_WEATHER_FORECAST=1800

# ----------------------------------------------------------------------------
# OPENMETEO API CONFIGURATION (OPTIONAL)
# ----------------------------------------------------------------------------
# Configuration for the OpenMeteo weather API integration

# OpenMeteo API base URL (OPTIONAL)
# Base URL for weather forecast API
# Default: https://api.open-meteo.com/v1
OPENMETEO_BASE_URL=https://api.open-meteo.com/v1

# OpenMeteo Geocoding API URL (OPTIONAL)
# Base URL for city search/geocoding API
# Default: https://geocoding-api.open-meteo.com/v1
OPENMETEO_GEOCODING_URL=https://geocoding-api.open-meteo.com/v1

# OpenMeteo API request timeout (OPTIONAL)
# Timeout in milliseconds for API requests
# Recommended: 5000 (5 seconds)
# Production: Consider 3000 (3 seconds) for faster failure detection
# Default: 5000
OPENMETEO_TIMEOUT=5000

# ============================================================================
# PRODUCTION ENVIRONMENT EXAMPLE
# ============================================================================
# Below is an example configuration for production deployment on AWS EC2
# Uncomment and modify these values when deploying to production
# ============================================================================

# TZ=UTC
# PORT=3333
# HOST=0.0.0.0
# NODE_ENV=production
# APP_KEY=<generate-secure-key-using-node-ace-generate:key>
# APP_NAME=TravelPlanningAPI
# LOG_LEVEL=warn
# DB_HOST=<rds-endpoint-or-private-ip>
# DB_PORT=3306
# DB_USER=travel_api_user
# DB_PASSWORD=<secure-password-from-secrets-manager>
# DB_DATABASE=travel_planning_api
# GRAPHQL_PLAYGROUND_ENABLED=false
# GRAPHQL_INTROSPECTION_ENABLED=false
# CACHE_TTL_CITY_SEARCH=3600
# CACHE_TTL_WEATHER_FORECAST=900
# OPENMETEO_BASE_URL=https://api.open-meteo.com/v1
# OPENMETEO_GEOCODING_URL=https://geocoding-api.open-meteo.com/v1
# OPENMETEO_TIMEOUT=3000

# ============================================================================
# SECURITY BEST PRACTICES
# ============================================================================
# 1. Never commit .env file to version control (already in .gitignore)
# 2. Generate a strong APP_KEY using: node ace generate:key
# 3. Use strong database passwords (minimum 16 characters, mixed case, numbers, symbols)
# 4. In production, disable GraphQL Playground and introspection
# 5. Use environment-specific values (don't use development values in production)
# 6. Store production secrets in AWS Secrets Manager or similar service
# 7. Rotate credentials regularly
# 8. Use least-privilege database users (don't use root in production)
# 9. Enable SSL/TLS for database connections in production
# 10. Monitor and log all configuration changes
# ============================================================================